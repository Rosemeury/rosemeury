<!DOCTYPE html>
<html lang="pt=br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meury</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<?php include  __DIR__ . '/../backend/mostrarimoveis.php'; ?>

<body>

    <header class="">
        <div class="cabeçalho">
            <a href="inicio">
                <img class="imgcabecalho" src="img/logo.png" alt="logo">
            </a>
            <div class="cabeçalho_1">
                <h3 class="fw-bold textocaabecalho">BRINDES E MIMOS</h3>
            </div>
        </div>
        <nav>
            <div class="float-end me-md-5 me-2 position-absolute" style="top:0;right: 0;margin-top: 50px;margin-left: 10px;">
                <a href=" https://wa.me/5575999339915" target="_blank"><img src="img/whats.png" height="35" width="35" alt="Whatsapp"></a>
                <a  class="ms-2" href="https://www.instagram.com/" target="_blank"><img src="img/insta.png" height="35" width="35" alt="Instagram"></a>
                <a  class="ms-2" href="https://pt-br.facebook.com/" target="_blank"><img src="img/face.png" height="35" width="35" alt="Facebook"></a>
            </div>

            <div class="float-end me-md-5 me-2 position-absolute" style="top:0;right: 0;margin-top: 100px;margin-right: 30px;">
                <div class="d-flex">
                    <ul>
                        <?php 
                            if (isset($_SESSION["email"])) {
                            echo '<a style="color:white;" href="cadastro"><i class="btnrotas bi bi-cloud-arrow-up-fill"></i></a>';
                            }
                            if (!isset($_SESSION["email"])) {
                            echo '<a style="color:white;" href="login"><i class="btnrotas bi bi-person-fill-up"></i></a>';
                            }
                        ?>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

   
  <!-- Começo do corpo do site -->
<div class="container-xxl mt-2" style="font-family: 'Pacifico', cursive;">

    <div class="p-2 rounded d-flex justify-content-center gap-2">
        <button type="button" class="btnsecao btn btn-outline-primary" onclick="revenda()">Revenda</button>
       <button type="button" class="btnsecao btn btn-outline-primary" onclick="tutoriais()">Tutoriais</button>
    </div>
</div>

<div class="container-xxl">

<div class="row p-1 d-flex">

<div class="anuncio col-12 col-md-2 mt-3 bg-info rounded">
    anuncio
</div>

<div class='col-12 col-md-10 p-2 card-group'>

<div class="row row-cols-2 row-cols-md-4 g-3" id="include">

<?php if (!empty($medias)): ?>
    <?php foreach ($medias as $media): ?>
        
        <div class="device">
            <div class='card shadow-sm border' style='background-color:#fffbcd;border-radius: 20px 20px;'>

            <?php if (strpos($media['tipo'], 'video') !== false): ?>
                <video class="media" controls>
                    <source src="<?php echo htmlspecialchars($media['url'], ENT_QUOTES, 'UTF-8'); ?>" type="<?php echo htmlspecialchars($media['tipo'], ENT_QUOTES, 'UTF-8'); ?>">
                    Seu navegador não suporta o elemento de vídeo.
                </video>
            <?php elseif (strpos($media['tipo'], 'image') !== false): ?>
                <img class="media" src="<?php echo htmlspecialchars($media['url'], ENT_QUOTES, 'UTF-8'); ?>" alt="<?php echo htmlspecialchars($media['titulo'], ENT_QUOTES, 'UTF-8'); ?>" height="330" style='border-radius: 20px 20px 0px 0px;'>
            <?php endif; ?>

            <div class='card-body p-2 d-flex justify-content-center mt-3' style="height: 120px;">
                <div>
                <h5 class='card-title fw-blold'><?php echo htmlspecialchars($media['titulo'], ENT_QUOTES, 'UTF-8'); ?></h5>
                <h6 class='card-subtitle'><?php echo htmlspecialchars($media['descricao'], ENT_QUOTES, 'UTF-8'); ?></h6>
                <?php if ($media['secao'] == 'revenda'): ?>
                <a href="<?php echo htmlspecialchars($media['link'], ENT_QUOTES, 'UTF-8'); ?>" class='btn btn-warning btn-sm rounded-pill btnmedia mt-1 pt-0 pb-0'>Shopee <i class="bi bi-bag-fill text-danger"></i></a>
                <?php else: ?>
                <a href="<?php echo htmlspecialchars($media['link'], ENT_QUOTES, 'UTF-8'); ?>" class='btn btn-warning btn-sm rounded-pill btnmedia mt-1 pt-0 pb-0'>YouTube <i class="bi bi-play-btn-fill text-danger"></i></a>
                <?php endif; ?>
                </div>
            </div>

            </div>

        </div>
          
    <?php endforeach; ?>
<?php endif; ?>

</div>

</div>
</div>



</div>
<!-- Fim do corpo do site -->

<div class="container-xxl mt-2">
    <div class="p-2 ms-4">
        <div>
            <button class="btn btn-primary btn-sm" onclick="carregarMais()">Mostrar Mais</button>
        </div>
    </div>
</div>
    
    <footer>
        <div class="d-flex justify-content-center p-2" style="background-color: #202020; color:white;">
            <span  class="d-md-flex d-none">RoseMeury &copy; 2024</span>
            <span  class="d-flex d-md-none" style="font-size: 0.8em;">RoseMeury &copy; 2024</span>
       </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <script>
        const include = document.getElementById('include');

        function revenda() {
            const secao = 'revenda';
            fetch("buscatipo", {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ secao: secao })
            }).then(response => response.text())
            .then(data => {
                include.innerHTML = data;
            });
        }

        function tutoriais() {
            const secao = 'tutoriais';
            fetch("buscatipo", {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ secao: secao })
            }).then(response => response.text())
            .then(data => {
                include.innerHTML = data;
            });
        }

        // ----------- CARREGAR MAIS COTEUDO NA PAGE ---------------
        let = contador = 8;
        function carregarMais() {
            contador = contador + 8;
            const valor = {contador:contador};
            fetch("buscatipo", {
            method: 'POST',
            body: new URLSearchParams(valor),
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded'
            }
            }).then(response => response.text())
            .then(data => {
                include.innerHTML = data;
            });
        }
        
    </script>
</body>
</html>
